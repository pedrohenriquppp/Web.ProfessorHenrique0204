<!DOCTYPE html>
<html>

<head>
    <title>Desafio BinaryGap</title>

    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>

    <h1>Desafio BinaryGap</h1>
    <h2>Nome da Equipe: Equipe PHP</h2>
    <h2>RA: 1844492-2</h2>
    <h2>Nome: Pedro Henrique Pereira</h2>

    <table>
        <thead>
            <tr>
                <th>Digito</th>
                <th>Ação</th>
                <th>BinaryGap</th>
            </tr>
        </thead>
        <tbody id="tbody">
            <tr>
                <td class="digito">9</td>
                <td><button>Calcula</button></td>
                <td class="binaryGap">?</td>
            </tr>
            <tr>
                <td class="digito">526</td>
                <td><button>Calcula</button></td>
                <td class="binaryGap">?</td>
            </tr>
            <tr>
                <td class="digito">20</td>
                <td><button>Calcula</button></td>
                <td class="binaryGap">?</td>
            </tr>
            <tr>
                <td class="digito">15</td>
                <td><button>Calcula</button></td>
                <td class="binaryGap">?</td>
            </tr>
            <tr>
                <td class="digito">32</td>
                <td><button>Calcula</button></td>
                <td class="binaryGap">?</td>
            </tr>
            <tr>
                <td class="digito">2031654946</td>
                <td><button>Calcula</button></td>
                <td class="binaryGap">?</td>
            </tr>
            <tr>
                <td class="digito">19</td>
                <td><button>Calcula</button></td>
                <td class="binaryGap">?</td>
            </tr>
            <tr>
                <td class="digito">42</td>
                <td><button>Calcula</button></td>
                <td class="binaryGap">?</td>
            </tr>
        </tbody>
    </table>

</body>

</html>

<script>
    let tbody = document.querySelector("#tbody");

    function funçãoBinaryGap(binario) {
        var valorBinario = Math.abs(numero).toString(2),
            finalMaximo = 0,
            AtualMaximo;

        for (var i = 0; i < valorBinario.length; i++) {
            AtualMaximo = 0;
            while (valorBinario[i] === "0") {
                ++AtualMaximo && ++i;
            }
            if (valorBinario[i] === '1') finalMaximo = Math.max(finalMaximo, AtualMaximo);
        }
        return finalMaximo;
    }

    let elemento = event.target;
    if (elemento.tagName === 'BUTTON') {
        let tr = elemento.parentNode.parentNode;
        let tdBinary = tr.querySelector(".binaryGap");
        let digito = parseInt(tr.querySelector(".digito").innerText);
        let binario = digito.toString(2);
        tdBinary.innerText = funçãoBinaryGap(binario);
    }
</script>